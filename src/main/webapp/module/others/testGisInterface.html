<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta charset="UTF-8">
<title>测试接口</title>
<script type="text/javascript" src="../../static/jquery/jquery-1.7.2.min.js"></script>
<script type="text/javascript">
//
function test1(){
	$.ajax({
		type: "get",
		dataType: "json",
		url:"/shipManage/module/shipManage/queryShip.do",
		data:{
			dataStr:'2018-03-14',
			pno:     1,
			pageSize: 4
			},
		success: function(result) 
		{
			console.log(result);
			var status=result.status;
			var res = $("#div");
			if(status==0){
				alert(result.msg);
			    res.append(JSON.stringify(result.newAddr));	
			    res.append("<br>");
			}
		},
		error: function(result) {
			alert("发送请求失败:状态码" + result.status);
		}
	});
}

//导出不好不要用ajax，用超链接
function test3(){
	$.ajax({
		type: "get",
		//dataType: "json",
		url:"/shipManage/module/shipManage/dataExport.do",
		data:{
			dataStr:'2018-03-14',
			pno:     1,
			pageSize: 4
		},
		success: function(result)
		{
			console.log("下载成功，请用超链接而显示弹窗");
		},
		error: function(result) {
			alert("发送请求失败:状态码" + result.status);
		}
	});
}
function test4(){
	$.ajax({
		type: "get",
		//dataType: "json",
		url:"/shipManage/module/shipManage/refreshData.do",
		data:{
		},
		success: function(result)
		{
			console.log(result);
			var status=result.status;
			var res = $("#div");
			if(status==0){
				alert(result.msg);
				res.append(JSON.stringify(result.newAddr));
				res.append("<br>");
			}
		},
		error: function(result) {
			alert("发送请求失败:状态码" + result.status);
		}
	});
}
function test5(){
	$.ajax({
		type: "get",
		//dataType: "json",
		url:"/shipManage/module/shipManage/test.do",
		data:{
		},
		success: function(result)
		{
			console.log(result);
			var status=result.status;
			var res = $("#div");
			if(status==0){
				alert(result.msg);
				res.append(JSON.stringify(result.msg));
				res.append("<br>");
			}
		},
		error: function(result) {
			alert("发送请求失败:状态码" + result.status);
		}
	});
}
</script>
</head>
<body>

	<input type="button" onclick="test1();" value="按锚定日期查询船舶信息" id="testBtn1" style="margin-left:5px;"/><br/><br/>
	<input type="button" onclick="test3();" value="导出数据" id="testBtn3" style="margin-left:5px;"/><br/><br/>
	<input type="button" onclick="test4();" value="刷新数据" id="testBtn4" style="margin-left:5px;"/><br/><br/>
	<div id="div"></div>
</body>
</html>